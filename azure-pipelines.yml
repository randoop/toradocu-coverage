jobs:
- job: everything
  pool:
    vmImage: 'ubuntu-16.04'
  container: mdernst/randoop-ubuntu-jdkany-coverage:latest
  steps:
  - checkout: self
    fetchDepth: 25
  - bash: mkdir -p evaluation/coverage && mkdir -p evaluation/logs && mkdir -p toradocu/logs && (cd extractcoverage && ./gradlew assemble)
    displayName: create-directory-structure.sh
  - bash: ./fetch_and_compile_corpus
    displayName: fetch_and_compile_corpus
# TODO: use a different version of Randoop
